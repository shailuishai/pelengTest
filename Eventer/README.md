# Eventer

Приложение для генерации и логирования событий с возможностью управления через консольные команды.

## Запуск через Docker (рекомендуемый способ)

1. Соберите Docker образ:
```bash
docker build -t eventer .
```

2. Запустите контейнер в интерактивном режиме:
```bash
docker run -it eventer
```

## Локальная сборка

### Требования
- CMake (версия 3.0 или выше)
- C++ компилятор с поддержкой C++11
- Make или Ninja

### Windows
При сборке на Windows необходимо внести следующие изменения в код:

1. В файле `main.cpp` замените функции работы со временем:
```cpp
// Заменить
ctime_r(&now, dateStr);
// на
ctime_s(dateStr, sizeof(dateStr), &now);

// Заменить
ctime_r(&tt, timeStr);
// на
ctime_s(timeStr, sizeof(timeStr), &tt);
```

2. В файле `Logger.cpp` замените функции работы со временем во всех логгерах:
```cpp
// Заменить
ctime_r(&event.timestamp, timeStr);
// на
ctime_s(timeStr, sizeof(timeStr), &event.timestamp);
```

### Сборка

1. Создайте директорию для сборки:
```bash
mkdir build
cd build
```

2. Сгенерируйте файлы сборки:
```bash
cmake ..
```

3. Выполните сборку:
```bash
cmake --build .
```

## Команды приложения

- `date` - показать текущую дату
- `time` - показать текущее время
- `stat` - показать статистику событий
- `level X` - установить уровень логирования (0-2)
- `faster` - уменьшить интервал генерации событий
- `slower` - увеличить интервал генерации событий
- `pause` - приостановить генерацию событий
- `resume` - возобновить генерацию событий
- `exit` - завершить работу приложения

## Примечания по кроссплатформенности

Приложение использует разные функции для работы со временем в Windows и Linux:
- Windows: `ctime_s()`
- Linux: `ctime_r()`

Эти различия затрагивают два файла:
- `main.cpp` - для вывода текущей даты и времени
- `Logger.cpp` - для записи временных меток в лог-файлы

Docker-версия автоматически использует Linux-совместимый код. При локальной сборке на Windows необходимо внести соответствующие изменения в код (см. раздел "Windows" выше). 